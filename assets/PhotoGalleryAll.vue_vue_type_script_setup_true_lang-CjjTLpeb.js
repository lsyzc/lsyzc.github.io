import{e as B,g as v,o as b,F as E,v as O,a as w,n as I,x as S,k as M,j as H,b as L,P as m}from"./app-CPc1PZeF.js";import{p as T}from"./data-DvRUx5yM.js";var N=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],d=t=>{let e=0;for(let r=0;r<t.length;r++){let o=t[r],a=N.indexOf(o);e=e*83+a}return e},$=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},j=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(e*12.92*255+.5):Math.trunc((1.055*Math.pow(e,.4166666666666667)-.055)*255+.5)},U=t=>t<0?-1:1,C=(t,e)=>U(t)*Math.pow(Math.abs(t),e),V=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}},R=t=>{if(!t||t.length<6)throw new V("The blurhash string must be at least 6 characters");let e=d(t[0]),r=Math.floor(e/9)+1,o=e%9+1;if(t.length!==4+2*o*r)throw new V(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*o*r}`)},X=t=>{let e=t>>16,r=t>>8&255,o=t&255;return[$(e),$(r),$(o)]},Y=(t,e)=>{let r=Math.floor(t/361),o=Math.floor(t/19)%19,a=t%19;return[C((r-9)/9,2)*e,C((o-9)/9,2)*e,C((a-9)/9,2)*e]},Z=(t,e,r,o)=>{R(t),o=o|1;let a=d(t[0]),l=Math.floor(a/9)+1,i=a%9+1,_=(d(t[1])+1)/166,u=new Array(i*l);for(let n=0;n<u.length;n++)if(n===0){let s=d(t.substring(2,6));u[n]=X(s)}else{let s=d(t.substring(4+n*2,6+n*2));u[n]=Y(s,_*o)}let c=e*4,h=new Uint8ClampedArray(c*r);for(let n=0;n<r;n++)for(let s=0;s<e;s++){let p=0,P=0,k=0;for(let f=0;f<l;f++)for(let g=0;g<i;g++){let x=Math.cos(Math.PI*s*g/e)*Math.cos(Math.PI*n*f/r),y=u[g+f*i];p+=y[0]*x,P+=y[1]*x,k+=y[2]*x}let q=j(p),A=j(P),F=j(k);h[4*s+0+n*c]=q,h[4*s+1+n*c]=A,h[4*s+2+n*c]=F,h[4*s+3+n*c]=255}return h},D=Z,G=t=>{const e=t.toString(16);return e.length===1?"0"+e:e},J=(t,e,r)=>"#"+G(t)+G(e)+G(r);function z(t){return t===0?0:`${t}%`}function K(t,e,r){const o=[];for(let a=0,l=0;a<t.length;a+=4,l++){const i=l%e,_=Math.floor(l/e),u=Math.round(i/(e-1)*100),c=Math.round(_/(r-1)*100),h=t[a],n=t[a+1],s=t[a+2],p=`radial-gradient(at ${z(u)} ${z(c)},${J(h,n,s)},#00000000 50%)`;o.push(p)}return o}function Q(t,e=4,r=3){const o=D(t,e,r);return K(o,e,r)}function W(t,e=4,r=3){return{backgroundImage:Q(t,e,r).join(",")}}const tt={class:"photos grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4","max-w-500":"","mx-auto":""},et=["src","alt","data-photo-index"],rt=B({__name:"PhotoGrid",props:{photos:{},view:{}},setup(t){return(e,r)=>(b(),v("div",tt,[(b(!0),v(E,null,O(e.photos,(o,a)=>(b(),v("div",{key:a},[w("img",{src:o.url,alt:o.text,"data-photo-index":a,style:S(o.blurhash&&e.view!=="contain"?M(W)(o.blurhash):""),loading:"lazy","w-full":"",class:I(e.view==="contain"?"object-contain sm:aspect-square":"object-cover aspect-square")},null,14,et)]))),128))]))}}),ot={flex:"~ gap-1 col items-center justify-center",absolute:"","sm:fixed":"","left-6":"","top-20":""},st=B({__name:"PhotoGalleryAll",props:{limit:{}},setup(t){const e=t,r=H(()=>e.limit?T.slice(0,e.limit):T);function o(){m.value=m.value==="cover"?"contain":"cover"}return(a,l)=>{const i=rt;return b(),v(E,null,[w("div",ot,[w("button",{title:"Switch view","rounded-full":"",p2:"",op20:"",hover:"op100 bg-#8881",onClick:o},[w("div",{class:I(M(m)==="cover"?"i-ri-grid-line":"i-ri-layout-masonry-line")},null,2)])]),L(i,{photos:M(r),view:M(m)},null,8,["photos","view"])],64)}}});export{st as _};
